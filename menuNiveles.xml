<?xml version="1.0" encoding="UTF-8" ?> 
<Module>
  <ModulePrefs title="menuNiveles.xml"
    description=""
    author_affiliation="Capgemini">
	<Require feature="dynamic-height"/>   
	<Require feature="setprefs" />   
  </ModulePrefs>
<UserPref name="title" display_name="Título" required="true" />  
<UserPref name="urlArray" display_name="Url" datatype="list" required="true"/>    
<UserPref name="textoUrlArray" display_name="textoUrl" datatype="list" required="true"/>
<Content type="html">
    <![CDATA[
	<script src="https://www.google.com/jsapi" type="text/javascript"></script>
	<style type="text/css">
	  	/* @group fonts */
		@font-face {
			font-family: 'BBVA Web Light';
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-light/web-light.eot');
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-light/web-light.eot?iefix') format("embedded-opentype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-light/web-light.woff') format("woff"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-light/web-light.ttf') format("truetype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-light/web-light.svg#BBVA Web Light') format("svg");
			font-style: normal;
			font-weight: normal;
		}

		@font-face {
			font-family: 'BBVA Web Book';
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-book/web-book.eot');
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-book/web-book.eot?iefix') format("embedded-opentype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-book/web-book.woff') format("woff"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-book/web-book.ttf') format("truetype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-book/web-book.svg#BBVA Web Book') format("svg");
			font-style: normal;
			font-weight: normal;
		}

		@font-face {
			font-family: 'BBVA Web Medium';
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-medium/web-medium.eot');
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-medium/web-medium.eot?iefix') format("embedded-opentype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-medium/web-medium.woff') format("woff"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-medium/web-medium.ttf') format("truetype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-medium/web-medium.svg#BBVA Web Medium') format("svg");
			font-style: normal;
			font-weight: normal;
		}

		@font-face {
			font-family: 'BBVA Office Light';
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/office-light/office-light.eot');
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/office-light/office-light.eot?iefix') format("embedded-opentype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/office-light/office-light.woff') format("woff"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/office-light/office-light.ttf') format("truetype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/office-light/office-light.svg#BBVA Office Light') format("svg");
			font-style: normal;
			font-weight: normal;
		}

		@font-face {
			font-family: 'BBVA Office Book';
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/office-book/office-book.eot');
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/office-book/office-book.eot?iefix') format("embedded-opentype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/office-book/office-book.ttf') format("truetype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/office-book/office-book.woff') format("woff"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/office-book/office-book.svg#BBVA Office Book') format("svg");
			font-style: normal;
			font-weight: normal;
		}

		/*
		@font-face {
			font-family: 'BBVA Office Book';
		    src: url('GrutchShaded-webfont.eot');
		    src: url('GrutchShaded-webfont.eot?#iefix') format('embedded-opentype'),
		         url('GrutchShaded-webfont.woff') format('woff'),
		         url('GrutchShaded-webfont.ttf') format('truetype'),
		         url('GrutchShaded-webfont.svg#BBVA Office Book') format('svg');
		    font-weight: normal;
		    font-style: normal;
		}*/

		@font-face {
			font-family: 'Stag Light';
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag-light/stag-light.eot');
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag-light/stag-light.eot?iefix') format("embedded-opentype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag-light/stag-light.woff') format("woff"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag-light/stag-light.ttf') format("truetype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag-light/stag-light.svg#Stag Light') format("svg");
			font-style: normal;
			font-weight: normal;
		}

		@font-face {
			font-family: 'Stag';
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag/stag.eot');
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag/stag.eot?#iefix') format("embedded-opentype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag/stag.woff') format("woff"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag/stag.ttf') format("truetype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag/stag.svg#Stag') format("svg");
			font-style: normal;
			font-weight: normal;
		}

		@font-face {
			font-family: 'Stag Medium';
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag-medium/stag-medium.eot');
			src:url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag-medium/stag-medium.eot?iefix') format("embedded-opentype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag-medium/stag-medium.woff') format("woff"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag-medium/stag-medium.ttf') format("truetype"),
				url('https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/stag-medium/stag-medium.svg#Stag Medium') format("svg");
			font-style: normal;
			font-weight: normal;
		}

		/* @end */
		#content {
	 		border: 1px solid #DDE3EA;
	        border-radius: 2px;
	        -ms-border-radius: 2px;
	        -moz-border-radius: 2px;
	        -webkit-border-radius: 2px;
	        -khtml-border-radius: 2px;
	        width: 298px;
	        clear: both;
			margin-top:15px;
			height:296px;
		}
	</style>
	<div id="content">
	</div>	

	<script type="text/javascript">
		var gadgetHelper = null;
		var prefs = new _IG_Prefs();
		var titulo = prefs.getString("title");
		var urlArray = prefs.getArray("urlArray");
		var textoUrlArray = prefs.getArray("textoUrlArray");
		var html = "";
		function devuelveEnlace(varEnlace)
      	{
	        var link = "";
	        if (varEnlace.indexOf("javascript:") != -1)
	        {
	            var link = 'href=\"#\" onclick=\"' + varEnlace + '\" ';
	        }
	        else
	        {
	            var link = 'href=\"'+ varEnlace +'\"  target=\"_parent\" ';
	        }
	        return link;
        }
		function insertHTML()
		{
			html += '<header>' + titulo + '</header>';
			insertarEnlace();
		}
		
		function insertarEnlace()
        {
          	for (i = 0;i < urlArray.length;i++){
          		if ((urlArray[i] != "") && (textoUrlArray[i] != ""))
	            {    
	                var strLink = devuelveEnlace(urlArray[i]);
	                html += '<li><a ' + strLink + ' title=\"' + textoUrlArray[i] + '\"  >' + textoUrlArray[i] + '</a></li>';
	            }
          	} 
        }    
		
		insertHTML();
		document.getElementById("content").innerHTML = html;
	</script>
    ]]>
</Content>
<Content type="html" view="configuration" preferred_height="480">
<![CDATA[
	<script type="text/javascript" src="https://bbvaportaldeayuda.googlecode.com/svn/trunk/editorbbcode.js"></script>
	<style type="text/css">
		table td {
			color: #000;
			font-size: 11px;
			font-weight: bold;
		}
		table td input,
		textarea {
			color: #000;
			font-size: 11px;				
		}
  	</style>
	<table width="100%" border="0" id="tablaconfig">  
		<tr>       
        	<td>
            	Table - Url: <input type="text" size="100" id="urlArray0"  onchange="registraArray('urlArray',0)"/>                   
            </td>
            <td>
            	Table - Img: <input type="text" size="100" id="textoUrlArray0" onchange="registraArray('textoUrlArray',0)"/>                   
            </td>
        </tr>
        <tr>       
        	<td>
            	Table - Url: <input type="text" size="100" id="urlArray1"  onchange="registraArray('urlArray',1)"/>                   
            </td>
            <td>
            	Table - Img: <input type="text" size="100" id="textoUrlArray1" onchange="registraArray('textoUrlArray',1)"/>                   
            </td>
        </tr>
        <tr>       
        	<td>
            	Título: <input type="text" size="100" id="title" onchange="registra('title')"/>                   
            </td>
        </tr>
	</table>
			
    <script type="text/javascript">           
    	// Get userprefs
    	var prefs = new gadgets.Prefs();           
        function registraArray(variable,pos)
        {	
            var elementos = prefs.getArray(variable);
            var cadena = variable + pos; 
			elementos[pos] = document.getElementById(cadena).value;
        	prefs.setArray(variable,elementos);
    	} 
    	function registra(variable)
        {	
        	prefs.set(variable,document.getElementById(variable).value);
    	} 
		gadgets.window.adjustHeight();
    </script>   	
 ]]>	

 </Content>
</Module>