<Module>
<ModulePrefs title="configuracionPaises.xml" description="" author_affiliation="SopraGroup-UX">
<Require feature="idi"/>
<Require feature="locked-domain"/>
<Require feature="dynamic-height"/>
<Require feature="setprefs"/>
</ModulePrefs>
<UserPref name="_table_query_url" default_value="https://docs.google.com/a/bbva.com/spreadsheets/d/1a_CVjz3pqSszikAZ_zZHf9N3a7me06uN9avjoSKegI0" display_name="Data source url (Ej:https://docs.google.com/a/bbva.com/spreadsheets/d/1a_CVjz3pqSszikAZ_zZHf9N3a7me06uN9avjoSKegI0)" required="true"/>
<Content type="html"><![CDATA[
<script src="https://www.google.com/jsapi" type="text/javascript"></script>  
<style type="text/css">
.container { max-width: 620px; margin: 0; padding: 0; width: 100%; font-family: 'BBVA Web Book'; }
.container .header { display: inline-block; width: 100%; }
.container .header h1.title { margin-top: 0; padding-left: 5px; font-weight: normal; color: #0078D2; font-family: BBVA Web Light, BBVA Web, Arial; font-size: 22px; margin: 16px 0px 16px 0px; display: inline-block; }
.container .header ul.oslist { float: right; text-align: center; padding-right: 15px; }
.container .header ul.oslist li { display: inline; list-style-type: none; padding-right: 10px; }
.container .header ul.oslist li img { width: 24px; display: inline-block; }
.container .header ul.oslist li span { display: inline-block; padding-left: 5px; vertical-align: super; font-size: 0.9em; }
.container .render .article { padding: 15px 5px 10px 5px; max-width: 184px; min-height: 280px; width: 32%; display: inline-block; vertical-align: top; margin: 5px; border: 1px solid  #DDE3EA; background: #ffffff; background: -moz-linear-gradient(top, white 0%, #f5f7f8 100%); background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, white), color-stop(100%, #f5f7f8)); background: -webkit-linear-gradient(top, white 0%, #f5f7f8 100%); background: -o-linear-gradient(top, white 0%, #f5f7f8 100%); background: -ms-linear-gradient(top, white 0%, #f5f7f8 100%); background: linear-gradient(to bottom, #ffffff 0%, #f5f7f8 100%); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#f5f7f8',GradientType=0 ); }
.container .render .article .enlace { color: black; text-decoration: none; font-size: 1em; }
.container .render .article .enlace .articleimg { text-align: center; }
.container .render .article .enlace .articleimg img { margin: auto; width: 70px; }
.container .render .article .enlace h2 { text-align: center; font-size: 1em; font-family: 'BBVA Web Book'; }
.container .render .article .enlace ul.oslist { text-align: center; padding: 0; }
.container .render .article .enlace ul.oslist li { display: inline; list-style-type: none; padding-right: 10px; }
.container .render .article .enlace ul.oslist li .oslogo { width: 32px; }
.container .render .article .enlace div.short { text-align: left; padding: 10px; font-size: 11px; }
.container .render .article .enlace div.short span { color: #434A58; }
.show { display: block; }
.noshow { 
    float: left;
    width: 100%;
}

.noshow span{
        display: block;
    } 

li{
    list-style: none;
    float: left;
    margin: 10px;
    width: 100px;
    text-align: center;
}

.flag{
    width: 100px;
    height: 75px;
}

.caja{
    width: 300px;
height: auto;
float: left;

border: 1px solid #DDE3EA;
border-radius: 2px;
-ms-border-radius: 2px;
-moz-border-radius: 2px;
-webkit-border-radius: 2px;
-khtml-border-radius: 2px;

clear: both;
margin-top: 15px;


}

.titulo{
    border-bottom: 1px solid #DDE3EA;
font-size: 16px;
font-family: BBVA Web Book, Arial;
color: #333;
padding-left: 18px;
padding-top: 14px;
padding-bottom: 15px;
background: linear-gradient(to bottom, #FFF 0%,#F5F7F8 100%);
}

ul{
    padding-left: 19px;
    padding-right: 19px;
    margin: 0;
}

li{
    margin: 0;
}
.op1, .op2{
    list-style: none;
    float: left;
    width: 100%;
    text-align: left;

    border-bottom: 1px solid #DDE3EA;
    padding-bottom: 12px;
    padding-top: 17px;
    cursor: hand;
    cursor: pointer;
}

.link1, .link2{
    padding-left: 0px;
    vertical-align: 3px;
    text-decoration: none;
    font-size: 12px;
    font-family: Arial;
    font-weight: bold;
    color: #0073C9;
}


/*  .guia1{
        width: 100%;
        height: auto;
    }
    .guia2{
        width: 100%;
        height: auto;
    }
    .guia3{
        width: 100%;
        height: auto;
    }
    .guia4{
        width: 100%;
        height: auto;
    }
    .guia5{
        width: 100%;
        height: auto;
    }
    .guia6{
        width: 100%;
        height: auto;
    }
    .guia7{
        width: 100%;
        height: auto;
    }
    .guia8{
        width: 100%;
        height: auto;
    }
    .guia9{
        width: 100%;
        height: auto;
    }
    .guia10{
        width: 100%;
        height: auto;
    }
*/




/* @group fonts */
@font-face { font-family: 'BBVA Web Book'; src: url("https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-book/web-book.eot"); 
      src: url("https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-book/web-book.eot?iefix") format("embedded-opentype"), 
      url("https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-book/web-book.woff") format("woff"), 
      url("https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-book/web-book.ttf") format("truetype"), 
      url("https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-book/web-book.svg#BBVA Web Book") format("svg"); font-style: normal; font-weight: normal; }

@font-face { font-family: 'BBVA Web Light'; src: url("https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-light/web-light.eot"); 
      src: url("https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-light/web-light.eot?iefix") format("embedded-opentype"), 
      url("https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-light/web-light.woff") format("woff"), 
      url("https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-light/web-light.ttf") format("truetype"), 
      url("https://bbvaportaldeayuda.googlecode.com/svn/trunk/fonts/web-light/web-light.svg#BBVA Web Light") format("svg"); font-style: normal; font-weight: normal; }
</style>
<!--[if lt IE 9]>
<style>
.container .header{padding-bottom:15px;}
.container .header h1.title { margin:0; display: inline; }
.container .header ul.oslist{ position:absolute; right:0; top:0; margin:0; display: inline; }
img {border:none;}
.container .render .article .enlace ul.oslist { text-align: none; margin:0; padding: 0; }
.container .render .article_ie 
{ max-width: 180px;height: 300px;width: 32%;display: inline;}
</style>
<![endif]-->
<body onload="cargaCompleta()">
<div class="container">
        <ul class="list-paises">
        <li class="guia1"><img class="flag" src="https://bbvaportaldeayuda.googlecode.com/svn/trunk/img/spain.png"><span>Espa√±a</span></li>
        <li class="guia2"><img class="flag" src="https://bbvaportaldeayuda.googlecode.com/svn/trunk/img/portugal.png"><span>Portugal</span></li>
        <li class="guia3"><img class="flag" src="https://bbvaportaldeayuda.googlecode.com/svn/trunk/img/mexico.png"><span>Mexico</span></li>
        <li class="guia4"><img class="flag" src="https://bbvaportaldeayuda.googlecode.com/svn/trunk/img/chile.png"><span>Chile</span></li>
        <li class="guia5"><img class="flag" src="https://bbvaportaldeayuda.googlecode.com/svn/trunk/img/venezuela.png"><span>Venezuela</span></li>
        <li class="guia6"><img class="flag" src="https://bbvaportaldeayuda.googlecode.com/svn/trunk/img/argentina.png"><span>Argentina</span></li>
        <li class="guia7"><img class="flag" src="https://bbvaportaldeayuda.googlecode.com/svn/trunk/img/colombia.png"><span>Colombia</span></li>
        <li class="guia8"><img class="flag" src="https://bbvaportaldeayuda.googlecode.com/svn/trunk/img/peru.png"><span>Peru</span></li>
        <li class="guia9"><img class="flag" src="https://bbvaportaldeayuda.googlecode.com/svn/trunk/img/uruguay.png"><span>Uruguay</span></li>
        <li class="guia10"><img class="flag" src="https://bbvaportaldeayuda.googlecode.com/svn/trunk/img/paraguay.png"><span>Paraguay</span></li>
    </ul>
<div id="render" class="render"></div>
</div> 
<script type="text/javascript">
     var gadgetHelper = null;
         var prefs = new _IG_Prefs();
         var urlTable = prefs.getString("_table_query_url");
         _IG_RegisterOnloadHandler(loadVisualizationAPI); 

         function loadVisualizationAPI() {
                google.load("visualization", "1", {"packages": ["table"]});
        }
                
        function reload(){
                var gadgetHelper = new google.visualization.GadgetHelper();
                var opts = {dataType:'jsonp'};
                var queryDC = new google.visualization.Query(urlTable, opts);                 
                var queryDCtosend = "select A,B,C,D,E,F order by A";
                queryDC.setQuery(queryDCtosend);                          
                queryDC.send(handleQueryResponseDC);
   
        }

        var DataTable= function(data){
                var HEADER_ROW = 0;
                var FIELDS = {
                        id : 0,
                        title : 1,
                        type: 2,
                        image: 3,
                        short: 4,
                        long:5
                };
                
                var URL_DETAIL = "https://sites.google.com/a/bbva.com/portaldeayuda/movilidad/app_detail?app_id=";

                var dataDC = data;
                this.getNumberOfRows = function(){
                        return dataDC.getNumberOfRows();
                }
                this.getId = function(row){
                        return dataDC.getValue(row, FIELDS.id);
                }                
                this.getTitle = function(row){
                        return dataDC.getValue(row, FIELDS.title);
                }               
                this.getImage = function(row){
                        return dataDC.getValue(row, FIELDS.image);
                }
                this.getType= function(row){
                        var icons = (dataDC.getValue(row, FIELDS.type)).split(/[ ,]+/);
                        return icons;
                }
                this.getShort= function(row){
                        return dataDC.getValue(row, FIELDS.short);
                }
                this.getLong= function(row){
                        return dataDC.getValue(row, FIELDS.long);
                }
                
                this.getUrlDetalle= function(row){
                        return URL_DETAIL+this.getId(row);
                }

                this.isHeaderTable = function(row){
                        return ( row == HEADER_ROW);
                }

        }

        function handleQueryResponseDC(response){
                var dataDC = new DataTable(response.getDataTable());
                var filas = dataDC.getNumberOfRows();               
                var html= "";
                for(var row=0;row<filas;row++){                       
                    html +="<div class=\"article article_ie\"><a class=\"enlace\" target=\"_parent\" href=\""+dataDC.getUrlDetalle(row)+"\">";
                    html +="<div class=\"articleimg\"><img src='"+dataDC.getImage(row)+"'></div>";
                    html +="<h2>"+dataDC.getTitle(row)+"</h2>";
                    html +="<ul class=\"oslist\">"+renderIcons(dataDC.getType(row))+"</ul>";
                    html +="<div class=\"short\"><span>"+dataDC.getShort(row)+"</span></div>";
                    html +="</a></div>";                     
                }                
                document.getElementById('render').innerHTML = html;         
        }

        function cargaCompleta(){
                reload();
        }

        jQuery(document).ready(function() {         
          jQuery(".list-paises li").click(function(e){
              e.preventDefault();
              var val = jQuery(this).attr('class');               
              console.log(val);           
              
          });
        });
 
</script>
</body>

   
    
  ]]></Content>
</Module>